{
  "metadata": {
    "project": "academic-research-tool",
    "version": "1.0.0",
    "last_updated": "2025-12-28T20:30:00Z",
    "description": "AI-powered academic research tool task queue"
  },
  "tasks": [
    {
      "id": 1,
      "title": "Validate Hyperion with credentials",
      "description": "Get Hyperion/LightRAG credentials and run full integration tests to validate CRUD operations work correctly. Update AK_RAG_VALIDATION.md with results.",
      "status": "completed",
      "completed_at": "2025-12-28T20:15:00Z",
      "notes": "Validated via AK MCP. Fixed ingest_multiple_knowledge param mismatch (text→texts). See Event_Router/planning/AK_RAG_TEST_RESULTS.md",
      "priority": "P0",
      "wave": 1,
      "feature_id": null,
      "depends_on": [],
      "estimated_hours": 4,
      "files_to_create": [
        "planning/AK_RAG_VALIDATION.md"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "LightRAG list documents returns results",
        "LightRAG ingest text works",
        "LightRAG query returns relevant results",
        "LightRAG delete works",
        "Hyperion MCP tools callable"
      ]
    },
    {
      "id": 2,
      "title": "Set up Supabase project and schema",
      "description": "Create Supabase project for academic-research-tool. Set up initial schema with project, source, chunk, synthesis, and citation tables. Configure RLS policies.",
      "status": "completed",
      "completed_at": "2025-12-28T20:30:00Z",
      "notes": "Migration created: supabase/migrations/001_initial_schema.sql. Schema documented in planning/DATABASE_SCHEMA.md. Includes 8 tables, triggers for versioning, APA citation helper function.",
      "priority": "P0",
      "wave": 1,
      "feature_id": null,
      "depends_on": [],
      "estimated_hours": 6,
      "files_to_create": [
        "supabase/migrations/001_initial_schema.sql",
        "src/services/database.py"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "All tables created in Supabase",
        "RLS policies active",
        "Python client connects and can CRUD",
        "Schema documented in README"
      ]
    },
    {
      "id": 3,
      "title": "Create FastAPI project structure",
      "description": "Set up FastAPI backend with proper structure: models, routes, services, config. Include auth middleware for Supabase.",
      "status": "completed",
      "completed_at": "2025-12-28T20:55:00Z",
      "notes": "Created full structure: config.py, main.py, auth.py, database.py, health routes. All endpoints tested and working.",
      "priority": "P0",
      "wave": 1,
      "feature_id": null,
      "depends_on": [2],
      "estimated_hours": 4,
      "files_to_create": [
        "src/main.py",
        "src/config.py",
        "src/models/__init__.py",
        "src/api/__init__.py",
        "src/api/routes/__init__.py",
        "src/services/__init__.py",
        "src/services/auth.py"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "FastAPI app runs on uvicorn",
        "/health endpoint returns 200",
        "Auth middleware validates Supabase JWT",
        "CORS configured for frontend"
      ]
    },
    {
      "id": 4,
      "title": "AR1.1: Create Project API",
      "description": "Implement create project endpoint with Supabase storage. See planning/features/AR1_outline_formation/AR1.1_create_project.md for full spec.",
      "status": "completed",
      "completed_at": "2025-12-28T21:07:00Z",
      "notes": "Full CRUD for projects + outline sections. Routes: /api/projects, /api/projects/{id}/outline",
      "priority": "P0",
      "wave": 2,
      "feature_id": "AR1.1",
      "depends_on": [3],
      "estimated_hours": 6,
      "files_to_create": [
        "src/models/project.py",
        "src/api/routes/projects.py"
      ],
      "files_to_modify": [
        "src/api/__init__.py"
      ],
      "acceptance_criteria": [
        "POST /api/projects creates project",
        "GET /api/projects lists user projects",
        "GET /api/projects/{id} returns project",
        "RLS enforces user ownership"
      ]
    },
    {
      "id": 5,
      "title": "Create Hyperion client",
      "description": "Implement Python client for Hyperion MCP. Support session management, all CRUD operations, and proper error handling with retry.",
      "status": "completed",
      "completed_at": "2025-12-28T22:12:00Z",
      "notes": "Implemented via AK MCP routing. AKClient + HyperionClient. All 4 operations tested: list, query, ingest, delete.",
      "priority": "P0",
      "wave": 2,
      "feature_id": null,
      "depends_on": [1, 3],
      "estimated_hours": 6,
      "files_to_create": [
        "src/services/hyperion_client.py"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "Session initialization works",
        "ingest_knowledge tool callable",
        "query_knowledge tool callable",
        "delete_knowledge tool callable",
        "get_list_of_docs tool callable",
        "Retry logic implemented"
      ]
    },
    {
      "id": 6,
      "title": "Create Claude client",
      "description": "Implement Python client for Claude API. Support query enhancement and synthesis prompts.",
      "status": "deferred",
      "deferred_reason": "Using Cursor → AK directly for Claude interactions. Can add Python wrapper later if needed.",
      "priority": "P2",
      "wave": 2,
      "feature_id": null,
      "depends_on": [3],
      "estimated_hours": 3,
      "files_to_create": [
        "src/services/claude_client.py"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "Claude API connection works",
        "Completion method supports max_tokens",
        "Error handling with retry",
        "Token usage logging"
      ]
    },
    {
      "id": 7,
      "title": "AR2.1: Semantic Scholar search",
      "description": "Implement paper search via Semantic Scholar API. Return paper metadata, abstracts, and PDF availability.",
      "status": "completed",
      "completed_at": "2025-12-28T22:30:00Z",
      "notes": "SemanticScholarClient + Source models + API routes. Rate limiting handled. Need API key for higher limits.",
      "priority": "P0",
      "wave": 2,
      "feature_id": "AR2.1",
      "depends_on": [4],
      "estimated_hours": 6,
      "files_to_create": [
        "src/services/semantic_scholar.py",
        "src/models/source.py",
        "src/api/routes/sources.py"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "POST /api/projects/{id}/sources/search works",
        "Returns paper metadata with DOIs",
        "Indicates PDF availability",
        "Rate limiting respected"
      ]
    },
    {
      "id": 8,
      "title": "AR2.4: PDF download and GROBID parsing",
      "description": "Implement PDF download from arXiv/Unpaywall and GROBID parsing. Extract sections, references, metadata.",
      "status": "pending",
      "priority": "P0",
      "wave": 2,
      "feature_id": "AR2.4",
      "depends_on": [7],
      "estimated_hours": 10,
      "files_to_create": [
        "src/services/pdf_processor.py",
        "src/services/grobid_client.py"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "PDF downloads from arXiv",
        "GROBID extracts sections",
        "Metadata parsed correctly",
        "References extracted",
        "Error handling for failed PDFs"
      ]
    },
    {
      "id": 9,
      "title": "AR2.5: Chunk by section",
      "description": "Implement chunking strategy for academic papers. Chunk by section with overlap, preserve page numbers and metadata.",
      "status": "pending",
      "priority": "P0",
      "wave": 2,
      "feature_id": "AR2.5",
      "depends_on": [8],
      "estimated_hours": 6,
      "files_to_create": [
        "src/services/chunker.py",
        "src/models/chunk.py"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "Chunks by section type",
        "Respects max chunk size",
        "Preserves page numbers",
        "Stores chunks in Supabase",
        "Metadata attached to chunks"
      ]
    },
    {
      "id": 10,
      "title": "AR2.6: Ingest to Hyperion",
      "description": "Implement ingestion of chunks to Hyperion/LightRAG. See planning/features/AR2_research_ingestion/AR2.6_ingest_to_hyperion.md for full spec.",
      "status": "pending",
      "priority": "P0",
      "wave": 2,
      "feature_id": "AR2.6",
      "depends_on": [5, 9],
      "estimated_hours": 8,
      "files_to_create": [
        "src/services/ingestion.py"
      ],
      "files_to_modify": [
        "src/api/routes/sources.py"
      ],
      "acceptance_criteria": [
        "POST /{id}/ingest calls Hyperion",
        "LightRAG ID stored in chunks",
        "Metadata embedded in text",
        "Retrieval verified after ingest"
      ]
    },
    {
      "id": 11,
      "title": "AR3.1: Basic query interface",
      "description": "Implement RAG query endpoint. See planning/features/AR3_synthesis_rag/AR3.1_basic_query.md for full spec.",
      "status": "pending",
      "priority": "P0",
      "wave": 2,
      "feature_id": "AR3.1",
      "depends_on": [5, 6, 10],
      "estimated_hours": 10,
      "files_to_create": [
        "src/services/query.py",
        "src/models/research.py",
        "src/api/routes/research.py"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "POST /research/query returns answer",
        "Answer includes citations",
        "Sources have page numbers",
        "Synthesis record stored"
      ]
    },
    {
      "id": 12,
      "title": "Create Next.js frontend shell",
      "description": "Set up Next.js frontend with basic layout, routing, and Supabase auth. No feature UI yet.",
      "status": "pending",
      "priority": "P1",
      "wave": 2,
      "feature_id": null,
      "depends_on": [2],
      "estimated_hours": 6,
      "files_to_create": [
        "frontend/package.json",
        "frontend/app/layout.tsx",
        "frontend/app/page.tsx",
        "frontend/lib/supabase.ts"
      ],
      "files_to_modify": [],
      "acceptance_criteria": [
        "Next.js app runs",
        "Supabase auth works",
        "Basic layout with nav",
        "Tailwind configured"
      ]
    }
  ]
}

